<!DOCTYPE html>
<html lang="en">
  <head>
    <%include file="head.html"/>
  </head>
<body>

<%include file="nav_menu.html"/>

<article class="message is-warning banner">
  <div class="message-header">
    <p>Warning</p>
    <button class="delete" aria-label="delete"></button>
  </div>
  <div class="message-body">
    Please look at the help page to understand what the data means,
    what is the level of precision and how you can use this data to
    select a speaker.
  </div>
</article>


<div class="column py-0 is-12 is-vertical">
  <div class="tile py-0 is-ancestor">
    <div class="tile py-0 is-parent is-3">
      <div class="content mx-0 mt-0 mb-0">
        Brand Model
      </div>
    </div>
    <div class="tile py-0 is-parent is-2">
      <div class="content mx-0 mt-0 mb-0">
        <span class="has-text-left">
          Reviews
        </span>
      </div>
    </div>
    <div class="tile py-0 is-parent is-3">
      <div class="content mt-0 mb-0 mx-0">
        -3dB (Hz) &nbsp;
        Deviation
      </div>
    </div>
    <div class="tile py-0 is-parent is-4">
      <span class="has-text-right mt-0 mb-0 mx-0 is-family-monospace">
        <b>Tonality Scores</b>&nbsp;&dash;
        <b>w/sub</b>&nbsp;&dash;
        <b>w/eq</b>&nbsp;&dash;
        <b>w/both</b>&nbsp;&dash;
      </span>
    </div>
  </div>
</div>


<%namespace name="util" module="website.utils" import="*"/>

<script id="scoresht" type="text/x-handlebars-template">
  <div class="tile py-0 is-ancestor">
    <div class="tile py-0 is-parent is-3">
      <div class="content mx-0 mt-0 mb-0">
        {{brand}} {{model}}
      </div>
    </div>
    <div class="tile py-0 is-parent is-2">
      <div class="content mx-0 mt-0 mb-0">
        <span class="has-text-left">
          {{#each reviews.reviews}}
	  <a href="{{this.url}}">{{this.origin}}</a>
          {{/each}}
        </span>
      </div>
    </div>
    <div class="tile py-0 is-parent is-3">
      <div class="content mt-0 mb-0 mx-0">
        <b>{{estimates.ref_3dB}}</b>Hz&nbsp;&dash;
        &plusmn;<b>{{estimates.ref_band}}</b>dB
      </div>
    </div>
    <div class="tile py-0 is-parent is-4">
      <span class="has-text-right mt-0 mb-0 mx-0 is-family-monospace">
        {{#unless (isNaN scores.pref_score)}}
        <b>{{scores.pref_score}}</b>&nbsp;&dash;
        <b>{{scores.pref_score_wsub}}</b>&nbsp;&dash;
        <b>{{scoresEq.pref_score}}</b>&nbsp;&dash;
        <b>{{scoresEq.pref_score_wsub}}</b>
        {{/unless}}
      </span>
      <button class="is-small is-info" aria-label="more options" id="{{id}}-button">
        <i class="fas fa-angle-down"></i>
      </button>
    </div>
  </div>
  <div id="{{id}}-details" class="box hidden">
    <div class="tile is-ancestor">
      <div class="tile is-parent is-8">
        <div class="table-container">
          <table class="table is-striped is-narrow">
            {{#each reviews.reviews}}
            <thead>
              <th colspan="100%">
                <a href={{this.url}}>Review</a> from {{this.origin}} ({{this.version}})
              </th>
              <tr class="has-text-right">
                <td>Estimates
                </td>
                <td>Def.
                </td>
                <td>w/Eq
                </td>
                {{#unless (isNaN scores.pref_score)}}
                <td>Score components
                </td>
                <td>Def.
                </td>
                <td>w/Eq
                </td>
                {{/unless}}
              </tr>
            </thead>
            <tbody>
              <tr class="has-text-right">
                <td>-3dB v.s. reference:</td>
                <td>{{this.estimates.ref_3dB}}Hz</td>
                <td>{{this.estimatesEq.ref_3dB}}Hz</td>
                {{#unless (isNaN scores.pref_score)}}
                <td>NBD ON:</td>
                <td>{{this.scores.nbd_on_axis}}</td>
                <td>{{this.scoresEq.nbd_on_axis}}</td>
                {{/unless}}
              </tr>
              <tr class="has-text-right">
                <td>-6dB v.s. reference:</td>
                <td>{{this.estimates.ref_6dB}}Hz</td>
                <td>{{this.estimatesEq.ref_6dB}}Hz</td>
                {{#unless (isNaN scores.pref_score)}}
                <td>NBD LW:</td>
                <td>{{this.scores.nbd_listening_window}}</td>
                <td>{{this.scoresEq.nbd_listening_window}}</td>
                {{/unless}}
              </tr>
              <tr class="has-text-right">
                <td>Horizontal Directivity between 1kHz and 10kHz</td>
                <td>[{{this.estimates.dir_horizontal_m}}째, {{this.estimates.dir_horizontal_p}}째]</td>
                <td></td>
                {{#unless (isNaN scores.pref_score)}}
                <td>LFX (Hz):</td>
                <td>{{this.this.scores.lfx_hz}}</td>
                <td>{{this.scoresEq.lfx_hz}}</td>
                {{/unless}}
              </tr>
              <tr class="has-text-right">
                <td>Vertical Directivity between 1kHz and 10kHz</td>
                <td>[{{this.estimates.dir_vertical_m}}째, {{this.estimates.dir_vertical_p}}째]</td>
                <td>--</td>
                {{#unless (isNaN scores.pref_score)}}
                <td>SM PIR:</td>
                <td>{{this.scores.sm_pred_in_room}}</td>
                <td>{{this.scoresEq.sm_pred_in_room}}</td>
                {{/unless}}
              </tr>
              <tr class="has-text-right">
                <td>Deviation between {{this.estimates.ref_from}}Hz to {{this.estimates.ref_to}}Hz</td>
                <td>&plusmn;<b>{{this.estimates.ref_band}}</b>dB</td>
                <td>&plusmn;<b>{{this.estimatesEq.ref_band}}</b>dB</td>
                {{#unless (isNaN scores.pref_score)}}
                <td>SM SP:</td>
                <td>{{this.scores.sm_sound_power}}</td>
                <td>{{this.scoresEq.sm_sound_power}}</td>
                {{/unless}}
              </tr>
              <tr class="has-text-right">
                <td>Sensitivity:</td>
                <td>{{this.sensitity}}dB</td>
                <td></td>
                {{#unless (isNaN scores.pref_score)}}
                <td>Score</td>
                <td><b>{{this.scores.pref_score}}</b></td>
                <td><b>{{this.scoresEq.pref_score}}</b></td>
                {{/unless}}
              </tr>
              <tr class="has-text-right">
                <td></td>
                <td></td>
                <td></td>
                {{#unless (isNaN scores.pref_score)}}
                <td>Score with subwoofer</td>
                <td><b>{{this.scores.pref_score_wsub}}</b></td>
                <td><b>{{this.scoresEq.pref_score_wsub}}</b></td>
                {{/unless}}
              </tr>
              {{/each}}
            </tbody>
          </table>
        </div>
      </div>
      <div class="tile is-parent is-4">
        {{#unless (isNaN scores.pref_score)}}
        <figure>
          <img src="{{spider}}"/>
        </figure>
        {{/unless}}
      </div>
    </div>
  </div>
</div>
</script>

<div class="section">
  <!-- Speakers -->
  <div class="searchresults">
    <div class="columns is-multiline is-1" id="scores" data-num="0">
      <script type="module" src='./assets/scores.js'></script>
    </div>
  </div>
</div>

<%include file="search.html"/>
<%include file="footer.html"/>
